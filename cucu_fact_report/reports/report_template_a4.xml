<?xml version="1.0" encoding="utf-8"?>
<!-- Copyright (c) 2021-Present cucu | soluciones digitales -->
<!-- See LICENSE file for full copyright and licensing details. -->
<odoo>
    <data>
        <template id="cucu_report_a4">
            <t t-if="is_valid">
                <t t-call="web.html_container">
                    <t t-foreach="docs" t-as="o">
                        <t t-call="web.basic_layout">
                            <div class="page" style="font-family:'Cucu Font' !important;font-weight: normal">
                                <div class="page text-gray-800 relative" style="color: #000000">
                                    <t t-if="o.sin_code_state == 905">
                                        <h1 class="mr-4 font-bold fixed" style="top:400px; left: 28%; font-size:120px;color: rgba(255, 0, 0, 0.2);">
                                            ANULADO
                                        </h1>
                                    </t>
                                </div>
                                <div class="mt-8 relative">
                                    <t t-if="o.company_id.water_mark">
                                        <div t-attf-style="top:#{o.company_id.water_mark_top}px;" class="w-full fixed z-[-999] flex justify-center items-center">
                                            <img t-attf-style="width: #{o.company_id.water_mark_width}px;" t-att-src="image_data_uri(o.company_id.water_mark)"
                                                 alt="" class="object-contain text-center"/>
                                        </div>
                                    </t>
                                    <div class="flex flex-row justify-between items-start mt-6">
                                        <div class="w-6/12 flex justify-start" style="padding-right: 2rem;">
                                            <t t-if="o.company_id.logo">
                                                <img t-att-src="image_data_uri(o.company_id.logo)" alt="" width="100" class="object-contain text-center"
                                                     style="padding-right: 1rem;"/>
                                            </t>
                                            <div class="flex flex-col w-full" style="text-align: left;">
                                                <div class="text-base font-bold" t-attf-style="color: #{o.company_id.color_primary};" t-esc="header['razonSocialEmisor']"/>
                                                <div class="text-base font-[500] uppercase" t-esc="header['branch_name']"/>
                                                <div class="text-sm" t-esc="header['codigoPuntoVenta']"/>
                                                <div class="text-sm" t-esc="header['direccion']"/>
                                                <div class="text-sm" t-esc="header['telefono']"/>
                                                <div class="text-sm" t-esc="header['municipio']"/>
                                            </div>
                                        </div>
                                        <div class="w-5/12 text-sm">
                                            <table class="w-full">
                                                <tr>
                                                    <td class="font-semibold min-w-[120px] text-right pr-2" t-attf-style="color: #{o.company_id.color_primary};">
                                                        NIT:
                                                    </td>
                                                    <td class="text-sm">
                                                        <div t-esc="header['nitEmisor']"/>
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <t t-if="header['doc_sector'] == 1">
                                                        <td class="font-semibold min-w-[120px] text-right pr-2" t-attf-style="color: #{o.company_id.color_primary};">
                                                            FACTURA N°:
                                                        </td>
                                                    </t>
                                                    <t t-if="header['doc_sector'] == 24">
                                                        <td class="font-semibold text-right pr-2 text-sm" t-attf-style="color: #{o.company_id.color_primary};min-width: 220px">
                                                            N° NOTA CRÉDITO-DÉBITO:
                                                        </td>
                                                    </t>
                                                    <td class="text-sm">
                                                        <div t-if="header['doc_sector'] == 1" t-esc="header['numeroFactura']"/>
                                                        <div t-if="header['doc_sector'] == 24" t-esc="header['numeroNotaCreditoDebito']"/>
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td class="font-bold min-w-[120px] text-right pr-2 align-text-top whitespace-nowrap"
                                                        t-attf-style="color: #{o.company_id.color_primary};">
                                                        CÓD. AUTORIZACIÓN:
                                                    </td>
                                                    <td class="break-all text-sm">
                                                        <div t-esc="header['cuf']"/>
                                                    </td>
                                                </tr>
                                            </table>
                                        </div>
                                    </div>
                                    <div class="mt-4">
                                        <div class="text-center">
                                            <t t-if="header['doc_sector']== 1">
                                                <div class="text-4xl font-bold" t-attf-style="color: #{o.company_id.color_primary};">
                                                    Factura
                                                </div>
                                                <div style="font-size:13px">(Con Derecho a Crédito Fiscal)</div>
                                            </t>
                                            <t t-if="header['doc_sector']== 24">
                                                <div class="font-bold" t-attf-style="color: #{o.company_id.color_primary};font-size: 24px;">NOTA CRÉDITO-DÉBITO</div>
                                            </t>
                                        </div>
                                        <div class="mt-4" style="font-size:12px">
                                            <div class="flex justify-between mt-8" id="invoice_client">
                                                <div class="w-5/12" id="invoice_client_left">
                                                    <table>
                                                        <tr>
                                                            <td class="font-semibold min-w-[180px] text-left pr-2" t-attf-style="color: #{o.company_id.color_primary};">
                                                                Fecha:
                                                            </td>
                                                            <td class="text-sm whitespace-nowrap">
                                                                <div t-esc="header['fechaEmision']"/>
                                                            </td>
                                                        </tr>
                                                        <tr>
                                                            <td class="font-semibold min-w-[180px] text-left pr-2 align-text-top"
                                                                t-attf-style="color: #{o.company_id.color_primary};">
                                                                Nombre Razónn/Social:
                                                            </td>
                                                            <td class="text-sm">
                                                                <div t-esc="header['nombreRazonSocial']"/>
                                                            </td>
                                                        </tr>
                                                    </table>
                                                </div>
                                                <div class="w-5/12" id="invoice_client_right">
                                                    <table>
                                                        <tr>
                                                            <td class="font-bold min-w-[180px] text-left pr-2" t-attf-style="color: #{o.company_id.color_primary};">
                                                                NIT/CI/CEX:
                                                            </td>
                                                            <td class="text-sm">
                                                                <div t-esc="header['numeroDocumento']"/>
                                                            </td>
                                                        </tr>
                                                        <tr>
                                                            <td class="font-bold min-w-[180px] text-left pr-2 align-text-top" t-attf-style="color: #{o.company_id.color_primary};">
                                                                Cod. Cliente:
                                                            </td>
                                                            <td class="text-sm">
                                                                <div t-esc="header['codigoCliente']"/>
                                                            </td>
                                                        </tr>
                                                    </table>
                                                </div>
                                            </div>
                                        </div>

                                        <div id="invoice_sale" t-if="header['doc_sector'] == 1" style="font-size:0.78rem;margin-top:0.75rem">
                                            <table class="w-full border-collapse" cellspacing="0" cellpadding="0">
                                                <thead t-attf-style="background: #{o.company_id.color_primary}; color: white">
                                                    <tr>
                                                        <th style="vertical-align: middle;" class="uppercase pr-1 font-semibold w-[13.5%]">Código producto</th>
                                                        <th style="vertical-align: middle;" class="uppercase p-1 font-semibold w-[10.5%]">Cantidad</th>
                                                        <th style="vertical-align: middle;" class="uppercase p-1 font-semibold w-[12%] text-center">Unidad de medida</th>
                                                        <th style="vertical-align: middle;" class="uppercase p-1 font-semibold w-[26.5%]">Descripcion</th>
                                                        <th style="vertical-align: middle;" class="uppercase p-1 font-semibold w-[12.5%] text-center">Precio Unitario</th>
                                                        <th style="vertical-align: middle;" class="uppercase p-1 font-semibold w-[12.5%]">Descuento</th>
                                                        <th style="vertical-align: middle;" class="uppercase p-1 font-semibold w-[12.5%]">Sub Total</th>
                                                    </tr>
                                                </thead>

                                                <tbody>
                                                    <t t-foreach="detail" t-as="line">
                                                        <tr t-attf-style="border-bottom: 1px solid #{o.company_id.color_border} !important;">
                                                            <td class="px-1 py-1 break-all" style="vertical-align: middle;">
                                                                <div t-esc="line['codigoProducto']"/>
                                                            </td>
                                                            <td class="text-right px-1 py-1" style="vertical-align: middle;">
                                                                <div t-esc="line['cantidad']"/>
                                                            </td>
                                                            <td class="text-center px-1 py-1" style="vertical-align: middle;">
                                                                <div t-esc="line['unit_description']"/>
                                                            </td>
                                                            <td class="text-left px-1 py-1" style="vertical-align: middle;">
                                                                <div t-esc="line['descripcion']"/>
                                                            </td>
                                                            <td class="text-right px-1 py-1" style="vertical-align: middle;">
                                                                <div t-esc="line['precioUnitario']"/>
                                                            </td>
                                                            <td class="text-right px-1 py-1" style="vertical-align: middle;">
                                                                <div t-esc="line['montoDescuento']"/>
                                                            </td>
                                                            <td class="text-right py-1 pl-1" style="vertical-align: middle;">
                                                                <div t-esc="line['subTotal']"/>
                                                            </td>
                                                        </tr>
                                                    </t>
                                                </tbody>

                                                <tfoot>
                                                    <tr>
                                                        <td/>
                                                        <td/>
                                                        <td/>
                                                        <td/>
                                                        <td colspan="2" class="text-right py-1" t-attf-style="border-bottom: 1px solid #{o.company_id.color_border} !important;">
                                                            SUB TOTAL Bs
                                                        </td>
                                                        <td class="py-1 text-right" t-attf-style="border-bottom: 1px solid #{o.company_id.color_border} !important;">
                                                            <div t-esc="header['montoTotal']"/>
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <td/>
                                                        <td/>
                                                        <td/>
                                                        <td/>
                                                        <td colspan="2" class="text-right py-1" t-attf-style="border-bottom: 1px solid #{o.company_id.color_border} !important;">
                                                            DESCUENTO Bs
                                                        </td>
                                                        <td class="text-right py-1" t-attf-style="border-bottom: 1px solid #{o.company_id.color_border} !important;">
                                                            <div t-esc="header['descuentoAdicional']"/>
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <td rowspan="2" colspan="4">
                                                            <b>Son:</b>
                                                            <t t-esc="header['montoLiteral']"/>
                                                        </td>
                                                        <td colspan="2" class="text-right py-1" t-attf-style="border-bottom: 1px solid #{o.company_id.color_border} !important;">
                                                            TOTAL Bs
                                                        </td>
                                                        <td class="text-right py-1" t-attf-style="border-bottom: 1px solid #{o.company_id.color_border} !important;">
                                                            <div t-esc="header['montoTotalMoneda']"/>
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <td colspan="2" class="text-right py-1" t-attf-style="border-bottom: 1px solid #{o.company_id.color_border} !important;">
                                                            MONTO GIFT CARD Bs
                                                        </td>
                                                        <td class="text-right py-1" t-attf-style="border-bottom: 1px solid #{o.company_id.color_border} !important;">
                                                            <div t-esc="header['montoGiftCard']"/>
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <td/>
                                                        <td/>
                                                        <td/>
                                                        <td/>
                                                        <td colspan="2" class="text-right py-1 font-semibold"
                                                            t-attf-style="border-bottom: 1px solid #{o.company_id.color_border} !important; color: #{o.company_id.color_primary}; background: #{o.company_id.color_shadow};">
                                                            MONTO A PAGAR Bs
                                                        </td>
                                                        <td class="text-right py-1 font-bold"
                                                            t-attf-style="border-bottom: 1px solid #{o.company_id.color_border} !important; background: #{o.company_id.color_shadow}">
                                                            <div t-esc="header['montoTotalSujetoIva']"/>
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <td/>
                                                        <td/>
                                                        <td/>
                                                        <td/>
                                                        <td colspan="2" class="text-right py-1 font-semibold"
                                                            t-attf-style="border-bottom: 1px solid #{o.company_id.color_border} !important; background: #{o.company_id.color_shadow};color: #{o.company_id.color_primary};">
                                                            IMPORTE BASE CRÉDITO FISCAL
                                                        </td>
                                                        <td class="text-right py-1 font-bold"
                                                            t-attf-style="border-bottom: 1px solid #{o.company_id.color_border} !important; background: #{o.company_id.color_shadow}">
                                                            <div t-esc="header['montoTotalSujetoIva']"/>
                                                        </td>
                                                    </tr>
                                                </tfoot>
                                            </table>
                                        </div>
                                        <t t-if="header['observations']">
                                            <div t-attf-style="border:1px solid #{o.company_id.color_border};margin-top:16px;border-radius: 10px;font-size:11px;">
                                                <div t-attf-style="color: #{o.company_id.color_primary};background: #{o.company_id.color_shadow};border-top-left-radius: 10px;border-top-right-radius: 10px;"
                                                     class="rounded-t-md px-2 py-2">
                                                    <b>Observaciones</b>
                                                </div>
                                                <div class="py-2 px-2" style="font-size: 11px;" t-esc="header['observations']"/>
                                            </div>
                                        </t>
                                        <div class="w-full flex flex-row justify-between items-center mt-12" style="font-size: 0.75rem">
                                            <div class="max-w-3xl text-center">
                                                <p class="mb-2">ESTA FACTURA CONTRIBUYE AL DESARROLLO DEL PAÍS, EL USO ILÍCITO SERÁ SANCIONADO PENALMENTE DE ACUERDO A LEY</p>
                                                <p class="mb-2" t-esc="header['leyenda']"/>
                                                <div>
                                                    "Este documento es la Representación Gráfica de un Documento Fiscal Digital emitido en una modalidad de facturación en línea"
                                                </div>
                                            </div>
                                            <div class="">
                                                <img width="150" t-att-src="header['qr']"/>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </t>
                    </t>
                </t>
            </t>
            <t t-else="">
                <t t-call="account.report_invoice">
                    <t t-set="print_with_payments" t-value="True"/>
                </t>
            </t>
        </template>
    </data>
</odoo>
